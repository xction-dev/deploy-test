(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[360],{2190:function(t,e,s){Promise.resolve().then(s.bind(s,4690))},4690:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return l}});var r=s(7821),i=s(8078);let n=()=>fetch("/api/mock/user").then(t=>t.ok?t.json():Promise.reject(t)),u=t=>fetch("/api/mock/user/login",{method:"POST",body:JSON.stringify(t)}).then(async t=>t.ok?t.json():Promise.reject(t));var o=s(9188),a=s(9396),c=s(9622);let h=()=>{let t=(0,o.NL)(),{data:e,error:s,status:r}=(0,a.a)({queryKey:["user","me"],queryFn:n,staleTime:6e4,gcTime:36e5,retry:0}),{mutate:h}=(0,c.D)({mutationFn:u,onSuccess:()=>{t.invalidateQueries({queryKey:["user","me"]})}}),l=(0,i.useMemo)(()=>{switch(r){case"pending":return{status:"fetching",me:null!=e?e:null,error:null!=s?s:null};case"error":return{status:"fail",me:null,error:s};case"success":return{status:"success",me:e,error:null}}},[r,e,s]);return{...l,tryLogin:h}};function l(){let{status:t,me:e,tryLogin:s}=h(),[n,u]=(0,i.useState)(""),[o,a]=(0,i.useState)("");return(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"text",placeholder:"email",value:n,onChange:t=>u(t.target.value)}),(0,r.jsx)("input",{type:"password",placeholder:"password",value:o,onChange:t=>a(t.target.value)}),(0,r.jsx)("button",{onClick:()=>s({email:n,password:o}),children:"로그인"}),"fetching"===t&&(0,r.jsx)("div",{children:"로딩 중"}),"fail"===t&&(0,r.jsx)("div",{children:"실패"}),"success"===t&&(0,r.jsxs)("div",{children:["성공: ",e.name]})]})}},8489:function(t,e,s){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=s(8078),i=Symbol.for("react.element"),n=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,s){var r,n={},c=null,h=null;for(r in void 0!==s&&(c=""+s),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(h=e.ref),e)u.call(e,r)&&!a.hasOwnProperty(r)&&(n[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===n[r]&&(n[r]=e[r]);return{$$typeof:i,type:t,key:c,ref:h,props:n,_owner:o.current}}e.Fragment=n,e.jsx=c,e.jsxs=c},7821:function(t,e,s){"use strict";t.exports=s(8489)},9622:function(t,e,s){"use strict";s.d(e,{D:function(){return l}});var r=s(8078),i=s(2646),n=s(7759),u=s(1586),o=s(6328),a=class extends u.l{#t;#e=void 0;#s;#r;constructor(t,e){super(),this.#t=t,this.setOptions(e),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#t.defaultMutationOptions(t),(0,o.VS)(this.options,e)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),e?.mutationKey&&this.options.mutationKey&&(0,o.Ym)(e.mutationKey)!==(0,o.Ym)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#n(t)}getCurrentResult(){return this.#e}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#i(),this.#n()}mutate(t,e){return this.#r=e,this.#s?.removeObserver(this),this.#s=this.#t.getMutationCache().build(this.#t,this.options),this.#s.addObserver(this),this.#s.execute(t)}#i(){let t=this.#s?.state??(0,i.R)();this.#e={...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}}#n(t){n.V.batch(()=>{if(this.#r&&this.hasListeners()){let e=this.#e.variables,s=this.#e.context;t?.type==="success"?(this.#r.onSuccess?.(t.data,e,s),this.#r.onSettled?.(t.data,null,e,s)):t?.type==="error"&&(this.#r.onError?.(t.error,e,s),this.#r.onSettled?.(void 0,t.error,e,s))}this.listeners.forEach(t=>{t(this.#e)})})}},c=s(9188),h=s(9246);function l(t,e){let s=(0,c.NL)(e),[i]=r.useState(()=>new a(s,t));r.useEffect(()=>{i.setOptions(t)},[i,t]);let u=r.useSyncExternalStore(r.useCallback(t=>i.subscribe(n.V.batchCalls(t)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),o=r.useCallback((t,e)=>{i.mutate(t,e).catch(h.Z)},[i]);if(u.error&&(0,h.L)(i.options.throwOnError,[u.error]))throw u.error;return{...u,mutate:o,mutateAsync:u.mutate}}}},function(t){t.O(0,[218,396,115,443,744],function(){return t(t.s=2190)}),_N_E=t.O()}]);